<?xml version="1.0"?>
<launch>

	<include file="$(find ros_erle_rover_navigation)/launch/localizacion.launch"/>
	<include file="$(find ros_erle_rover_navigation)/launch/move_base.launch"/>

	<include file="$(find ros_erle_rover_navigation)/launch/odom_laser.launch"/>
	<include file="$(find ros_erle_rover_navigation)/launch/tf.launch"/>
	<include file="$(find ros_erle_rover_navigation)/launch/view_navigation2.launch"/>

	<!-- Map server -->
	<arg name="map" default="rover-slam.yaml"/>
	<node name="map_server" pkg="map_server" type="map_server" args="$(find ros_erle_rover_navigation)/maps/$(arg map)" />
	<arg name="urdf_file" default="$(find xacro)/xacro --inorder '$(find mrobot_description)/urdf/mrobot_with_rplidar.urdf.xacro'" />
    <param name="robot_description" command="$(arg urdf_file)" />
    <!-- 运行激光雷达驱动 -->
    <node name="rplidarNode"          pkg="rplidar_ros"  type="rplidarNode" output="screen">
  	<param name="serial_port"         type="string" value="/dev/ttyUSB0"/>  
  	<param name="serial_baudrate"     type="int"    value="115200"/>
  	<param name="frame_id"            type="string" value="laser"/>
  	<param name="inverted"            type="bool"   value="false"/>
  	<param name="angle_compensate"    type="bool"   value="true"/>
    </node>
    <!-- 运行rover -->
    <node name="rover"          pkg="ros_erle_rover_navigation"  type="rover.py" >
    </node>  
</launch>
